\chapter{Introduction}
\label{ch:Introduction}

Orientation estimation of the human body assisted by inertial sensors has become an integral part of medical diagnosis, therapy techniques, and rehabilitation as it provides an objective means of monitoring and assessing human body motion. The progressive miniaturisation of unobtrusive wearable inertial and magnetic sensors has made them more acceptable to patients and has consequently lead to an increasingly pervasive adoption for medical applications \cite{wee_soon_ambulatory_2008}.

For the application in health care accurate orientation estimates are crucial. A high degree of precision based on data from miniaturised sensors necessitates adequate signal processing, in order to mitigate the influence of disruptive factors such as bias instability and noise. That is, mathematically modelling the movement of interest, adaptive filtering, and sensor fusion.

\section{Motivation}


\section{Goals}

The goal of this thesis was implementing a new Kalman filter based orientation algorithm proposed by \citeauthor{bennett_motion_2014} in \cite{bennett_motion_2014} to improve the estimation of orientation angles of the human leg by means of inertial sensors. The filter algorithm should be implemented using \textsc{Matlab}$\textsuperscript{\textregistered}$ and validated against existing algorithms by comparing their respective \gls{RMSE}. An existing system for human body motion analysis called GaitWatch was available so that no new hardware had to be developed to gather the movement data. A detailed description of the Device is found at the end of Chapter \ref{ch:MARG}. The data was gathered at Department of Neurology of the Klinikum Großhadern, Munich. The subject stood in front of the force plate. Then, the GaitWatch and force plate record was started and the subject made a step onto the force plate. After standing upright for a variable time of two to ten seconds the subject left the force plate, made a few steps, turned left, and stopped in front of it again. This sequence was repeated ten times.


\section{Methodology}

At first Fudamentals..

As additional means to communicate with my supervisor and enable him to follow the progress of the project at any time we used Pivotal Tracker, a tool for agile project management and GitHub, a repository hosting service based on the distributed version control system Git. This thesis was written in the document markup language \LaTeX{}.

\section{Document structure}

Subsequent to the previous introductory overview of the subject and the definition of the project objectives, this chapter ends with a description of the state of the art. Chapters 2 to 4 outline the necessary fundamentals of MARG sensors, orientation estimation and digital filters, respectively. The actual implementation of the Kalman filter, including a prior theoretical design is given in Chapter 5, in which also the results are presented and discussed. Finally, Chapter 6 concludes and proposes possible future work.

\section{State of the Art}\label{sec:state_of_the_art}

There are several research works in the literature dealing with orientation estimation by means of inertial sensors. Kalman filters have been used successfully to improve these angle estimations. The state of the art at the commencement of the project is described below. Subsequently, current attempts to revolutionise medical research assisted by inertial sensors are presented.

\subsection{Kalman Filtering in Orientation Estimation}

Considering the fact that inertial and magnetic field sensors are used to establish objective body motion parameters that affect medical diagnosis, therapy, and rehabilitation, the necessity of a high level of accuracy becomes obvious. In order to obtain precise orientation estimates from sensor data it is essential to mitigate the effects of measurement noise and to combine the advantages of different  sensors through sensor fusion. Therefore, a wide variety of Kalman filter algorithms have been developed in the literature. It is common practice to fuse accelerometer and gyroscope measurements to obtain more accurate orientation estimates.

Due to human motion intensity usually being subject to change, \citeauthor{olivares_vicente_signal_2013} implemented a \emph{gated Kalman filter} in \cite{olivares_vicente_signal_2013}. They modelled linear acceleration during intense motion as noise and improved the performance of the Kalman filter by dynamically adjusting the variance of both the process and measurement noise, according to the motion intensity. Therefore they applied a \gls{LTSD} and set the variance between two predefined values. Then, the gated Kalman filter fused information from the accelerometer and the gyroscope signals. Thus, they improved the adapting capability of the filter and consequently the precision of the orientation estimation.

\citeauthor{bennett_motion_2014} demonstrated in \cite{bennett_motion_2014} that accelerometer angle estimates are inaccurate for typical motions of the leg. They affirmed the need to decouple the acceleration due to motion from the acceleration due to gravity, since the former cannot be neglected during fast motions. Therefore, they deployed a kinematic model of the leg to determine the acceleration that occurs due to motion and corrected the acceleration signal accordingly. An extended Kalman filter fused the corrected acceleration data with measurements of a gyroscope during motion. Their method improved upon the raw accelerometer method during motion and at rest by an 83\% smaller \gls{RMSE}.

\subsection{MARG Sensors in Medical Research}\label{sec:MARG_sensors_medical}

MARG sensors can be found in smart phones, fitness trackers, and other wearable devices. With increasing capability of body sensor networks and wearable computing, they have become prevalent in research environments for estimation and tracking of human body motion \cite{bennett_motion_2014}. They are used in activity monitoring \cite{veltink_detection_96}\cite{najafi_ambulatory_03}\cite{ermes_sports_08}, rehabilitation \cite{giggins_rehabilitation_13}\cite{lupinski_ligament_11}, sports training \cite{bonnet_squat_13}\cite{ermes_sports_08}, and localisation \cite{hoflinger_localization_13}\cite{Bennett_distance_13}.

The number of smartphones across the globe is predicted to surpass two billion in 2016 \cite{emarketer_smartphones}, of which most come equipped with MARG sensor technologies. Recently, large companies have developed software that takes advantage of the associated potential to revolutionise medical research.

In March 2015, \citeauthor{Apple_2015} announced a platform-independent, open source software framework called ResearchKit \cite{Apple_2015} that, amongst others, takes advantage of the MARG sensors in the iPhone to track movement of patients in daily life. Thus medical researchers obtain robust data with far more regularity than it was possible when patients complete tasks at hospitals or other research facilities in irregularly intervals. Moreover, according to \citeauthor{Apple_2015} ResearchKit simplifies recruiting participants from all over the world, which results in a more varied study group that provides a more useful representation of the population. Together with the University of Rochester and Sage Bionetworks they announced the iPhone app `mPower', which measures balance and gait of parkinson patients to help researchers better understand how various symptoms are connected to Parkinson's disease.

In August 2014, the Michael J. Fox Foundation for Parkinson’s Research and Intel Corporation \cite{Intel_2013} announced a collaborative research study on objective measurement of Parkinson symptoms. They aim to collect movement data of thousands of patients twenty-four seven at over 300 samples per second by means of unobtrusive wearable devices and store them on a big data analytics platform. The data platform, deployed on a cloud infrastructure, supports an analytics application that processes the data and detects changes in real time. Thus, by detecting anomalies, the progression of the disease can be measured objectively without the need for scientists to focus on the underlying computing technologies. Physicians and researchers are intended to have access to the data as well as be able to submit their own anonymised patient data for analysis. According to \cite{Intel_2013} the correlation of data that quantifies symptoms such as slowness of movement, tremor, and sleep quality with molecular data could advance drug development and provide a deeper insight into the clinical course of Parkinson's disease.



